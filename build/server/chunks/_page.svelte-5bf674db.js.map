{"version":3,"file":"_page.svelte-5bf674db.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/traininglog/_date_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, t as onDestroy, v as validate_component, d as add_attribute } from \"../../../../chunks/index3.js\";\nimport \"ag-grid-community\";\nimport { C as Chasing } from \"../../../../chunks/ArrowUp.svelte_svelte_type_style_lang.js\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"input.svelte-brt59l{height:50px;width:100%;display:flex;align-items:center;justify-content:center;text-align:center;box-sizing:border-box;border:none;font-size:calc(0.08 * var(--width));border-radius:2px;background:white;margin:0;color:rgba(0, 0, 0, 0.7)}\",\n  map: null\n};\nasync function updateRecord(row, data) {\n  const protein = parseInt(data.protein_grams);\n  const carbs = parseInt(data.carbs_grams);\n  const fat = parseInt(data.fat_grams);\n  const kcals = protein * 4 + carbs * 4 + fat * 9;\n  console.log(\"protein \" + protein + \" fat \" + fat + \" carbs \" + carbs + \"Kcals: \" + kcals);\n  data.kkcals = kcals;\n  row.setDataValue(\"kkcals\", data.kkcals);\n  const jsonData = JSON.stringify(data);\n  const res = await fetch(\"/reference/updaterecord\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: jsonData\n  });\n  if (!res.ok) {\n    throw Error(json.message);\n  }\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  var domNode;\n  let columnDefs = [\n    {\n      headerName: \"Food\",\n      field: \"food_name\",\n      editable: true,\n      minWidth: 100\n    },\n    {\n      headerName: \"Qty\",\n      field: \"food_qty\",\n      editable: true,\n      minWidth: 70\n    },\n    {\n      headerName: \"Fat, g\",\n      field: \"fat_grams\",\n      editable: true,\n      minWidth: 70\n    },\n    {\n      headerName: \"Carbs, g\",\n      field: \"carbs_grams\",\n      editable: true,\n      minWidth: 70\n    },\n    {\n      headerName: \"Protein, g\",\n      field: \"protein_grams\",\n      editable: true,\n      minWidth: 70\n    },\n    {\n      headerName: \"Kcals\",\n      field: \"kkcals\",\n      editable: true,\n      minWidth: 120\n    }\n  ];\n  ({\n    columnDefs,\n    rowData: data.rowData,\n    onCellValueChanged(params) {\n      updateRecord(params.node, params.data);\n    }\n  });\n  onDestroy(() => {\n  });\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  $$result.css.add(css);\n  return `<form action=\"${\"?/addfood\"}\" method=\"${\"POST\"}\"><input name=\"${\"food\"}\" value=\"${\"Add food to the reference list\"}\" class=\"${\"svelte-brt59l\"}\"></form>\n\n${`\n<div style=\"${\"display: flex; justify-content: center; padding: 10px;\"}\">${validate_component(Chasing, \"Chasing\").$$render(\n    $$result,\n    {\n      size: \"60\",\n      color: \"#FF3E00\",\n      unit: \"px\",\n      duration: \"1s\"\n    },\n    {},\n    {}\n  )}</div>`}\n\n<center><h3>Food Reference List</h3></center>\n\n\n<div style=\"${\"display: flex; justify-content: center; align-items: center;\"}\"><div id=\"${\"datagrid\"}\" class=\"${\"ag-theme-alpine\"}\" style=\"${\"height: 70vh; width: 100%;\"}\"${add_attribute(\"this\", domNode, 0)}></div>\n</div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}