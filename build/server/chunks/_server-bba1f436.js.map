{"version":3,"file":"_server-bba1f436.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/foodlog/_date_/updaterecord/_server.js"],"sourcesContent":["import \"../../../../../chunks/index.js\";\nimport { PrismaClient } from \"@prisma/client\";\nimport { u as user } from \"../../../../../chunks/stores.js\";\nconst prisma = new PrismaClient();\nasync function POST({ request }) {\n  const record = await request.json();\n  if (record.food_name == null) {\n    await prisma.foodLog.delete({\n      where: {\n        id: record.id\n      }\n    });\n  } else {\n    await prisma.foodLog.update({\n      where: {\n        id: record.id\n      },\n      data: {\n        food_name: record.food_name,\n        food_qty: parseFloat(record.food_qty),\n        fat_grams: parseFloat(record.fat_grams),\n        carbs_grams: parseFloat(record.carbs_grams),\n        protein_grams: parseFloat(record.protein_grams),\n        kkcals: parseInt(record.kkcals),\n        user_id: user.name\n      }\n    });\n  }\n  return new Response(String(\"success\"));\n}\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;;AAGA,MAAM,MAAM,GAAG,IAAI,YAAY,EAAE,CAAC;AAClC,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AACtC,EAAE,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI,EAAE;AAChC,IAAI,MAAM,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;AAChC,MAAM,KAAK,EAAE;AACb,QAAQ,EAAE,EAAE,MAAM,CAAC,EAAE;AACrB,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG,MAAM;AACT,IAAI,MAAM,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;AAChC,MAAM,KAAK,EAAE;AACb,QAAQ,EAAE,EAAE,MAAM,CAAC,EAAE;AACrB,OAAO;AACP,MAAM,IAAI,EAAE;AACZ,QAAQ,SAAS,EAAE,MAAM,CAAC,SAAS;AACnC,QAAQ,QAAQ,EAAE,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC;AAC7C,QAAQ,SAAS,EAAE,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC;AAC/C,QAAQ,WAAW,EAAE,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC;AACnD,QAAQ,aAAa,EAAE,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC;AACvD,QAAQ,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;AACvC,QAAQ,OAAO,EAAE,IAAI,CAAC,IAAI;AAC1B,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,OAAO,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;AACzC;;;;"}