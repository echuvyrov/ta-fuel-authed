import{s as Ae,W as ae,_ as B,e as V,a as Y,c as N,b as H,f as z,g as Z,q as k,B as j,$ as ue,i as U,h as P,G as oe,A as p,a0 as Xe,X as ne,Y as se,Z as ie,r as ye,a1 as w,H as Se,x as Ye,C as Fe,a2 as De,a3 as I,z as J,t as Ze,d as we,j as Je,a4 as fe,a5 as Ke,m as K,v as Qe,E as xe,a6 as $e,a7 as el}from"./scheduler.D5qmQzhB.js";import{S as Ee,i as Oe,t as R,a as T,f as ce,b as ll,d as tl,m as al,g as le,c as te,e as nl}from"./index.eUYc991i.js";import{e as he}from"./each.-oqiv04n.js";function Le(e,t){const l={},u={},s={$$scope:1};let n=e.length;for(;n--;){const i=e[n],o=t[n];if(o){for(const r in i)r in o||(u[r]=1);for(const r in o)s[r]||(l[r]=o[r],s[r]=1);e[n]=o}else for(const r in i)s[r]=1}for(const i in u)i in l||(l[i]=void 0);return l}function sl(e){return typeof e=="object"&&e!==null?e:{}}function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ie={exports:{}};(function(e,t){(function(){var l={};e.exports=l,l.simpleFilter=function(u,s){return s.filter(function(n){return l.test(u,n)})},l.test=function(u,s){return l.match(u,s)!==null},l.match=function(u,s,n){n=n||{};var i=0,o=[],r=s.length,A=0,m=0,D=n.pre||"",g=n.post||"",h=n.caseSensitive&&s||s.toLowerCase(),b;u=n.caseSensitive&&u||u.toLowerCase();for(var F=0;F<r;F++)b=s[F],h[F]===u[i]?(b=D+b+g,i+=1,m+=1+m):m=0,A+=m,o[o.length]=b;return i===u.length?(A=h===u?1/0:A,{rendered:o.join(""),score:A}):null},l.filter=function(u,s,n){return!s||s.length===0?[]:typeof u!="string"?s:(n=n||{},s.reduce(function(i,o,r,A){var m=o;n.extract&&(m=n.extract(o));var D=l.match(u,m,n);return D!=null&&(i[i.length]={string:D.rendered,score:D.score,index:r,original:o}),i},[]).sort(function(i,o){var r=o.score-i.score;return r||i.index-o.index}))}})()})(Ie);var rl=Ie.exports;const ul=il(rl),ol=e=>({}),de=e=>({});function fl(e){let t;return{c(){t=Ze(e[2])},l(l){t=we(l,e[2])},m(l,u){U(l,t,u)},p(l,u){u&4&&Je(t,l[2])},d(l){l&&z(t)}}}function cl(e){let t,l,u,s,n,i,o,r,A,m;const D=e[10].label,g=ae(D,e,e[9],de),h=g||fl(e);let b=[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},e[6],{id:e[4]}],F={};for(let d=0;d<b.length;d+=1)F=B(F,b[d]);return{c(){t=V("form"),l=V("label"),h&&h.c(),s=Y(),n=V("input"),this.h()},l(d){t=N(d,"FORM",{"data-svelte-search":!0,role:!0,"aria-labelledby":!0});var y=H(t);l=N(y,"LABEL",{id:!0,for:!0,class:!0});var O=H(l);h&&h.l(O),O.forEach(z),s=Z(y),n=N(y,"INPUT",{name:!0,type:!0,placeholder:!0,autocomplete:!0,spellcheck:!0,id:!0}),y.forEach(z),this.h()},h(){k(l,"id",u=e[4]+"-label"),k(l,"for",e[4]),k(l,"class","svelte-5m0wg6"),j(l,"hide-label",e[3]),ue(n,F),j(n,"svelte-5m0wg6",!0),k(t,"data-svelte-search",""),k(t,"role",i=e[5]?null:"search"),k(t,"aria-labelledby",o=e[5]?null:e[4])},m(d,y){U(d,t,y),P(t,l),h&&h.m(l,null),P(t,s),P(t,n),n.autofocus&&n.focus(),e[17](n),oe(n,e[0]),r=!0,A||(m=[p(n,"input",e[18]),p(n,"input",e[12]),p(n,"change",e[13]),p(n,"focus",e[14]),p(n,"blur",e[15]),p(n,"keydown",e[16]),p(t,"submit",Xe(e[11]))],A=!0)},p(d,[y]){g?g.p&&(!r||y&512)&&ne(g,D,d,d[9],r?ie(D,d[9],y,ol):se(d[9]),de):h&&h.p&&(!r||y&4)&&h.p(d,r?y:-1),(!r||y&16&&u!==(u=d[4]+"-label"))&&k(l,"id",u),(!r||y&16)&&k(l,"for",d[4]),(!r||y&8)&&j(l,"hide-label",d[3]),ue(n,F=Le(b,[{name:"search"},{type:"search"},{placeholder:"Search..."},{autocomplete:"off"},{spellcheck:"false"},y&64&&d[6],(!r||y&16)&&{id:d[4]}])),y&1&&n.value!==d[0]&&oe(n,d[0]),j(n,"svelte-5m0wg6",!0),(!r||y&32&&i!==(i=d[5]?null:"search"))&&k(t,"role",i),(!r||y&48&&o!==(o=d[5]?null:d[4]))&&k(t,"aria-labelledby",o)},i(d){r||(R(h,d),r=!0)},o(d){T(h,d),r=!1},d(d){d&&z(t),h&&h.d(d),e[17](null),A=!1,ye(m)}}}function hl(e,t,l){const u=["value","autofocus","debounce","label","hideLabel","id","ref","removeFormAriaAttributes"];let s=w(t,u),{$$slots:n={},$$scope:i}=t,{value:o=""}=t,{autofocus:r=!1}=t,{debounce:A=0}=t,{label:m="Label"}=t,{hideLabel:D=!1}=t,{id:g="search"+Math.random().toString(36)}=t,{ref:h=null}=t,{removeFormAriaAttributes:b=!1}=t;const F=Se();let d=o,y,O=!1;function _(c){O||(O=!0,y=setTimeout(()=>{c(),O=!1},A))}Ye(()=>(r&&window.requestAnimationFrame(()=>h.focus()),()=>clearTimeout(y))),Fe(()=>{o.length>0&&o!==d&&(A>0?_(()=>F("type",o)):F("type",o)),o.length===0&&d.length>0&&F("clear"),d=o});function S(c){I.call(this,e,c)}function f(c){I.call(this,e,c)}function v(c){I.call(this,e,c)}function L(c){I.call(this,e,c)}function Q(c){I.call(this,e,c)}function q(c){I.call(this,e,c)}function M(c){J[c?"unshift":"push"](()=>{h=c,l(1,h)})}function C(){o=this.value,l(0,o)}return e.$$set=c=>{t=B(B({},t),De(c)),l(6,s=w(t,u)),"value"in c&&l(0,o=c.value),"autofocus"in c&&l(7,r=c.autofocus),"debounce"in c&&l(8,A=c.debounce),"label"in c&&l(2,m=c.label),"hideLabel"in c&&l(3,D=c.hideLabel),"id"in c&&l(4,g=c.id),"ref"in c&&l(1,h=c.ref),"removeFormAriaAttributes"in c&&l(5,b=c.removeFormAriaAttributes),"$$scope"in c&&l(9,i=c.$$scope)},[o,h,m,D,g,b,s,r,A,i,n,S,f,v,L,Q,q,M,C]}class dl extends Ee{constructor(t){super(),Oe(this,t,hl,cl,Ae,{value:0,autofocus:7,debounce:8,label:2,hideLabel:3,id:4,ref:1,removeFormAriaAttributes:5})}}const _l=e=>({value:e[0]&1}),_e=e=>({value:e[0]});function be(e,t,l){const u=e.slice();return u[47]=t[l],u[49]=l,u}const bl=e=>({result:e[0]&2,value:e[0]&1}),me=e=>({result:e[47],index:e[49],value:e[0]});function ge(e){let t,l,u=he(e[1]),s=[];for(let i=0;i<u.length;i+=1)s[i]=ke(be(e,u,i));const n=i=>T(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();t=K()},l(i){for(let o=0;o<s.length;o+=1)s[o].l(i);t=K()},m(i,o){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(i,o);U(i,t,o),l=!0},p(i,o){if(o[0]&67111943){u=he(i[1]);let r;for(r=0;r<u.length;r+=1){const A=be(i,u,r);s[r]?(s[r].p(A,o),R(s[r],1)):(s[r]=ke(A),s[r].c(),R(s[r],1),s[r].m(t.parentNode,t))}for(le(),r=u.length;r<s.length;r+=1)n(r);te()}},i(i){if(!l){for(let o=0;o<u.length;o+=1)R(s[o]);l=!0}},o(i){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)T(s[o]);l=!1},d(i){i&&z(t),Qe(s,i)}}}function ml(e){let t,l=e[47].string+"",u;return{c(){t=new $e(!1),u=K(),this.h()},l(s){t=el(s,!1),u=K(),this.h()},h(){t.a=u},m(s,n){t.m(l,s,n),U(s,u,n)},p(s,n){n[0]&2&&l!==(l=s[47].string+"")&&t.p(l)},d(s){s&&(z(u),t.d())}}}function ke(e){let t,l,u,s,n,i,o;const r=e[27].default,A=ae(r,e,e[26],me),m=A||ml(e);function D(){return e[40](e[47],e[49])}function g(){return e[41](e[47],e[49])}return{c(){t=V("li"),m&&m.c(),l=Y(),this.h()},l(h){t=N(h,"LI",{role:!0,id:!0,"aria-selected":!0,class:!0});var b=H(t);m&&m.l(b),l=Z(b),b.forEach(z),this.h()},h(){k(t,"role","option"),k(t,"id",u=e[2]+"-result-"+e[49]),k(t,"aria-selected",s=e[10]===e[49]),k(t,"class","svelte-1t4elht"),j(t,"selected",e[10]===e[49]),j(t,"disabled",e[47].disabled)},m(h,b){U(h,t,b),m&&m.m(t,null),P(t,l),n=!0,i||(o=[p(t,"click",D),p(t,"mouseenter",g)],i=!0)},p(h,b){e=h,A?A.p&&(!n||b[0]&67108867)&&ne(A,r,e,e[26],n?ie(r,e[26],b,bl):se(e[26]),me):m&&m.p&&(!n||b[0]&2)&&m.p(e,n?b:[-1,-1]),(!n||b[0]&4&&u!==(u=e[2]+"-result-"+e[49]))&&k(t,"id",u),(!n||b[0]&1024&&s!==(s=e[10]===e[49]))&&k(t,"aria-selected",s),(!n||b[0]&1024)&&j(t,"selected",e[10]===e[49]),(!n||b[0]&2)&&j(t,"disabled",e[47].disabled)},i(h){n||(R(m,h),n=!0)},o(h){T(m,h),n=!1},d(h){h&&z(t),m&&m.d(h),i=!1,ye(o)}}}function ve(e){let t,l;const u=e[27]["no-results"],s=ae(u,e,e[26],_e);return{c(){t=V("div"),s&&s.c(),this.h()},l(n){t=N(n,"DIV",{class:!0});var i=H(t);s&&s.l(i),i.forEach(z),this.h()},h(){k(t,"class","svelte-1t4elht"),j(t,"no-results",!0)},m(n,i){U(n,t,i),s&&s.m(t,null),l=!0},p(n,i){s&&s.p&&(!l||i[0]&67108865)&&ne(s,u,n,n[26],l?ie(u,n[26],i,_l):se(n[26]),_e)},i(n){l||(R(s,n),l=!0)},o(n){T(s,n),l=!1},d(n){n&&z(t),s&&s.d(n)}}}function gl(e){let t,l,u,s,n,i,o,r,A,m,D,g,h,b;const F=[{id:e[2]},{removeFormAriaAttributes:!0},e[16],{"aria-autocomplete":"list"},{"aria-controls":e[2]+"-listbox"},{"aria-labelledby":e[2]+"-label"},{"aria-activedescendant":e[10]>=0&&!e[5]&&e[1].length>0?`${e[2]}-result-${e[10]}`:null}];function d(f){e[29](f)}function y(f){e[30](f)}let O={};for(let f=0;f<F.length;f+=1)O=B(O,F[f]);e[9]!==void 0&&(O.ref=e[9]),e[0]!==void 0&&(O.value=e[0]),l=new dl({props:O}),J.push(()=>ce(l,"ref",d)),J.push(()=>ce(l,"value",y)),l.$on("type",e[31]),l.$on("input",e[32]),l.$on("change",e[33]),l.$on("focus",e[34]),l.$on("focus",e[35]),l.$on("clear",e[36]),l.$on("clear",e[13]),l.$on("blur",e[37]),l.$on("keydown",e[38]),l.$on("keydown",e[39]);let _=e[7]&&ge(e),S=e[15]["no-results"]&&!e[5]&&e[0].length>0&&e[1].length===0&&ve(e);return{c(){t=V("div"),ll(l.$$.fragment),n=Y(),i=V("ul"),_&&_.c(),o=Y(),S&&S.c(),this.h()},l(f){t=N(f,"DIV",{"data-svelte-typeahead":!0,role:!0,"aria-haspopup":!0,"aria-controls":!0,"aria-expanded":!0,id:!0,class:!0});var v=H(t);tl(l.$$.fragment,v),n=Z(v),i=N(v,"UL",{role:!0,"aria-labelledby":!0,id:!0,class:!0});var L=H(i);_&&_.l(L),o=Z(L),S&&S.l(L),L.forEach(z),v.forEach(z),this.h()},h(){k(i,"role","listbox"),k(i,"aria-labelledby",r=e[2]+"-label"),k(i,"id",A=e[2]+"-listbox"),k(i,"class","svelte-1t4elht"),j(i,"svelte-typeahead-list",!0),k(t,"data-svelte-typeahead",""),k(t,"role","combobox"),k(t,"aria-haspopup","listbox"),k(t,"aria-controls",m=e[2]+"-listbox"),k(t,"aria-expanded",e[7]),k(t,"id",D=e[2]+"-typeahead"),k(t,"class","svelte-1t4elht"),j(t,"dropdown",e[1].length>0)},m(f,v){U(f,t,v),al(l,t,null),P(t,n),P(t,i),_&&_.m(i,null),P(i,o),S&&S.m(i,null),e[42](t),g=!0,h||(b=p(window,"click",e[28]),h=!0)},p(f,v){const L=v[0]&66598?Le(F,[v[0]&4&&{id:f[2]},F[1],v[0]&65536&&sl(f[16]),F[3],v[0]&4&&{"aria-controls":f[2]+"-listbox"},v[0]&4&&{"aria-labelledby":f[2]+"-label"},v[0]&1062&&{"aria-activedescendant":f[10]>=0&&!f[5]&&f[1].length>0?`${f[2]}-result-${f[10]}`:null}]):{};!u&&v[0]&512&&(u=!0,L.ref=f[9],fe(()=>u=!1)),!s&&v[0]&1&&(s=!0,L.value=f[0],fe(()=>s=!1)),l.$set(L),f[7]?_?(_.p(f,v),v[0]&128&&R(_,1)):(_=ge(f),_.c(),R(_,1),_.m(i,o)):_&&(le(),T(_,1,1,()=>{_=null}),te()),f[15]["no-results"]&&!f[5]&&f[0].length>0&&f[1].length===0?S?(S.p(f,v),v[0]&32803&&R(S,1)):(S=ve(f),S.c(),R(S,1),S.m(i,null)):S&&(le(),T(S,1,1,()=>{S=null}),te()),(!g||v[0]&4&&r!==(r=f[2]+"-label"))&&k(i,"aria-labelledby",r),(!g||v[0]&4&&A!==(A=f[2]+"-listbox"))&&k(i,"id",A),(!g||v[0]&4&&m!==(m=f[2]+"-listbox"))&&k(t,"aria-controls",m),(!g||v[0]&128)&&k(t,"aria-expanded",f[7]),(!g||v[0]&4&&D!==(D=f[2]+"-typeahead"))&&k(t,"id",D),(!g||v[0]&2)&&j(t,"dropdown",f[1].length>0)},i(f){g||(R(l.$$.fragment,f),R(_),R(S),g=!0)},o(f){T(l.$$.fragment,f),T(_),T(S),g=!1},d(f){f&&z(t),nl(l),_&&_.d(),S&&S.d(),e[42](null),h=!1,b()}}}function kl(e,t,l){let u,s,n;const i=["id","value","data","extract","disable","filter","autoselect","inputAfterSelect","results","focusAfterSelect","showDropdownOnFocus","showAllResultsOnFocus","limit"];let o=w(t,i),{$$slots:r={},$$scope:A}=t;const m=Ke(r);let{id:D="typeahead-"+Math.random().toString(36)}=t,{value:g=""}=t,{data:h=[]}=t,{extract:b=a=>a}=t,{disable:F=a=>!1}=t,{filter:d=a=>!1}=t,{autoselect:y=!0}=t,{inputAfterSelect:O="update"}=t,{results:_=[]}=t,{focusAfterSelect:S=!1}=t,{showDropdownOnFocus:f=!1}=t,{showAllResultsOnFocus:v=!1}=t,{limit:L=1/0}=t;const Q=Se();let q=null,M=null,C=!1,c=-1,x="",G=!1;Fe(()=>{x!==s&&y&&l(10,c=Re()),x!==s&&!m["no-results"]&&l(5,C=_.length===0),x=s});async function $(){const a=_[c];if(a.disabled)return;const E=b(a.original),X=g;O=="clear"&&l(0,g=""),O=="update"&&l(0,g=E),Q("select",{selectedIndex:c,searched:X,selected:E,original:a.original,originalIndex:a.index}),await xe(),S&&M.focus(),W()}function Re(){let a=0,E=_[a]?.disabled??!1;for(;E;)a===_.length?a=0:a+=1,E=_[a]?.disabled??!1;return a}function ee(a){let E=a===1&&c===_.length-1?0:c+a;E<0&&(E=_.length-1);let X=_[E].disabled;for(;X;)E===_.length?E=0:E+=a,X=_[E].disabled;l(10,c=E)}const re=()=>l(5,C=!1),W=()=>{l(5,C=!0),l(6,G=!1)},ze=({target:a})=>{!C&&!q?.contains(a)&&W()};function je(a){M=a,l(9,M)}function pe(a){g=a,l(0,g)}function Te(a){I.call(this,e,a)}function Ce(a){I.call(this,e,a)}function Me(a){I.call(this,e,a)}function Ve(a){I.call(this,e,a)}const Ne=()=>{re(),(f||v)&&(l(7,n=!0),l(6,G=!0))};function Pe(a){I.call(this,e,a)}function Ue(a){I.call(this,e,a)}function qe(a){I.call(this,e,a)}const Be=a=>{if(_.length!==0)switch(a.key){case"Enter":$();break;case"ArrowDown":a.preventDefault(),ee(1);break;case"ArrowUp":a.preventDefault(),ee(-1);break;case"Escape":a.preventDefault(),l(0,g=""),M?.focus(),W();break}},He=(a,E)=>{a.disabled||(l(10,c=E),$())},Ge=(a,E)=>{a.disabled||l(10,c=E)};function We(a){J[a?"unshift":"push"](()=>{q=a,l(8,q)})}return e.$$set=a=>{t=B(B({},t),De(a)),l(16,o=w(t,i)),"id"in a&&l(2,D=a.id),"value"in a&&l(0,g=a.value),"data"in a&&l(17,h=a.data),"extract"in a&&l(18,b=a.extract),"disable"in a&&l(19,F=a.disable),"filter"in a&&l(20,d=a.filter),"autoselect"in a&&l(21,y=a.autoselect),"inputAfterSelect"in a&&l(22,O=a.inputAfterSelect),"results"in a&&l(1,_=a.results),"focusAfterSelect"in a&&l(23,S=a.focusAfterSelect),"showDropdownOnFocus"in a&&l(3,f=a.showDropdownOnFocus),"showAllResultsOnFocus"in a&&l(4,v=a.showAllResultsOnFocus),"limit"in a&&l(24,L=a.limit),"$$scope"in a&&l(26,A=a.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&262144&&l(25,u={pre:"<mark>",post:"</mark>",extract:b}),e.$$.dirty[0]&52035585&&l(1,_=ul.filter(g,h,u).filter(({score:a})=>a>0).slice(0,L).filter(a=>!d(a.original)).map(a=>({...a,disabled:F(a.original)}))),e.$$.dirty[0]&1966161&&G&&v&&g.length===0&&l(1,_=h.filter(a=>!d(a)).map((a,E)=>({disabled:F(a),index:E,original:a,score:0,string:b(a)}))),e.$$.dirty[0]&262146&&(s=_.map(a=>b(a.original)).join("")),e.$$.dirty[0]&34&&l(7,n=!C&&_.length>0),e.$$.dirty[0]&200&&f&&l(7,n=n&&G)},[g,_,D,f,v,C,G,n,q,M,c,$,ee,re,W,m,o,h,b,F,d,y,O,S,L,u,A,r,ze,je,pe,Te,Ce,Me,Ve,Ne,Pe,Ue,qe,Be,He,Ge,We]}class Sl extends Ee{constructor(t){super(),Oe(this,t,kl,gl,Ae,{id:2,value:0,data:17,extract:18,disable:19,filter:20,autoselect:21,inputAfterSelect:22,results:1,focusAfterSelect:23,showDropdownOnFocus:3,showAllResultsOnFocus:4,limit:24},null,[-1,-1])}}export{Sl as T};
